<!DOCTYPE html>

<html>
<head><title>Title</title>
<style>

#progressBar { border:1px solid #aaa; 
color:#fff; 
width:295px; 
height:20px;
} 
#progress { background-color:#ff0000; 
height:20px; 
display:inline-block;
color:#000; 
}

</style>


</head>

<body>
<h3>Testing Audio counter thing</h3>

<audio  id="mySound" >
	<source src="04-diffused_beats-49_percent.ogg" type='audio/ogg; codecs="vorbis"'>
</audio>

<div id="counter"></div>

<div id="progressBar"><span id="progress"><!--<h4 id="percent"></h4>--></span></div>

<script type="text/javascript">

//document.getElementById("mySound").load();
//audio.addEventListener("timeupdate", updateProgress, false);

var audio = document.getElementById("mySound");
//var audio = new Audio();

//var dur = audio.duration;
//audio.progress;
audio.controls = false;

audio.play();

audio.addEventListener("timeupdate", updateProgress, false);
audio.addEventListener("timeupdate", updateCount, false);

//document.getElementById("mySound").play();

function updateProgress() {
 var progress = document.getElementById("progress");
 var value = 0;
 if (audio.currentTime > 0) {
 value = Math.floor((100 / audio.duration) * audio.currentTime);
	
 }
 progress.style.width = value + "%";
	progress.innerHTML = value + "%";
 //var percent = document.getElementById("percent");
	//percent = value;

}

function updateCount(){
	var counter = document.getElementById("counter");
	var timeleft = 0;
	if (audio.currentTime > 0){
		timeleft = (audio.duration - audio.currentTime); 
	}
	
	counter.innerHTML = (audio.currentTime / 60) + "\t" + (timeleft / 60) + "\tTotal Min: " + (audio.duration / 60);

	
}
//audio.addEventListener("timeupdate", updateProgress, false);
//var dur = audio.duration;
/*while (audo.currentTime < dur){

document.write(audio.currentTime);

}*/
//document.getElementById("mySound").load();
//document.getElementById("mySound").play();
//document.write("duration: " + document.getElementById("mySound").duration);

//while(document.getElementById("mySound").currentTime < document.getElementById("mySound").duration){
//var curtime = document.getElementById("mySound").currentTime();

//document.write("<p>" + document.getElementById("mySound").duration + "</p>");
//document.print("hello");
//}

</script>

<!--<div id="progressBar"><span id="progress"></span></div>-->


</body>
</html>
